#!/usr/bin/env bash

#################################################
## Common variables/functions and whatnot that ##
## are used across all scripts in this repo    ##
#################################################

############
## Colors ##
############
BLUE='\e[0;34m'
GREEN='\e[0;32m'
RED='\e[0;31m'
YELLOW='\e[0;33m'
RESTORE='\e[0m'

# Device Codename
DEVICE="sailfish"

# Number of parallel threads to use when compiling 
PAR_THREAD="-j$(($(nproc --all) * 2 - 2))"

###########################
## Discord configuration ##
###########################

# Discord script location
DC_SCRIPT="${HOME}/shagbot/dis.py"

dc_chk() {
if [[ ! -e ${DC_SCRIPT} ]]; then
    warn "Discord bot not found at ${DC_SCRIPT}!"
else
    DC=true
fi
}

# Message Discord function
dc_msg() {
    echo "$1" | python3 "${DC_SCRIPT}"
}

################################
## Google Drive configuration ##
################################

# Check if "grive" is installed
grive_chk() {
if ! command -v grive > /dev/null; then
    warn "grive not installed! Not syncing to GDrive..."
else
    GDRIVE=true
fi
}

# Google Drive folder location
GD_FOLDER="/media/shagbag913/Roms/gdrive"

error() {
    printf '\n'
    printf "${RED}"'%0.s#' $(seq 1 $((${#1}+7)))
    printf '\n%s\n' "ERROR: ${1}"
    printf '%0.s#' $(seq 1 $((${#1}+7)))
    printf '\n\n'
    printf "${RESTORE}"
}

warn() {
    printf '\n'
    printf "${YELLOW}"'%0.s#'  $(seq 1 $((${#1}+6)))
    printf '\n%s\n' "WARN: ${1}"
    printf '%0.s#' $(seq 1 $((${#1}+6)))
    printf '\n\n'
    printf "${RESTORE}"
}

info() {
    printf '\n'
    printf "${BLUE}"'%0.s#'  $(seq 1 $((${#1}+6)))
    printf '\n%s\n' "INFO: ${1}"
    printf '%0.s#' $(seq 1 $((${#1}+6)))
    printf '\n\n'
    printf "${RESTORE}"
}
